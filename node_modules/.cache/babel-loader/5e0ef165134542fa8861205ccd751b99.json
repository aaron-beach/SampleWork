{"ast":null,"code":"import _slicedToArray from \"/Users/aaronbeach/Desktop/workspace/riseworks/spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/aaronbeach/Desktop/workspace/riseworks/spa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/aaronbeach/Desktop/workspace/riseworks/spa/src/Auth/SignUpDetails/SignUpAuthorDetails.jsx\";\nimport { Button, Card, Col, Container, Form, Row } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport services from \"constants/services\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction SignUpAuthorDetails({\n  defaultValues = {\n    services: [],\n    location: \"\"\n  },\n  onBackClick,\n  onSubmit\n}) {\n  const DEFAULT_FORM = {\n    services: services.map(service => _objectSpread({}, service, {\n      checked: defaultValues.services.includes(service.key)\n    })),\n    location: defaultValues.location\n  };\n\n  const _useState = useState(DEFAULT_FORM),\n        _useState2 = _slicedToArray(_useState, 2),\n        form = _useState2[0],\n        setForm = _useState2[1];\n\n  const _useTranslation = useTranslation(),\n        t = _useTranslation.t;\n\n  const getSubmitPayload = () => {\n    return {\n      location: form.location,\n      services: form.services.map(service => {\n        if (service.checked) {\n          return service.key;\n        }\n\n        return null;\n      }).filter(x => x)\n    };\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(getSubmitPayload());\n  };\n\n  const handleBackClick = () => {\n    onBackClick(getSubmitPayload());\n  };\n\n  const handleChange = e => {\n    setForm(_objectSpread({}, form, {\n      [e.target.name]: e.target.value || \"\"\n    }));\n  };\n\n  const handleToggleChange = e => {\n    const _e$target = e.target,\n          name = _e$target.name,\n          checked = _e$target.checked;\n    setForm(_objectSpread({}, form, {\n      services: form.services.map((service, i) => {\n        if (service.key === name) {\n          return _objectSpread({}, service, {\n            checked\n          });\n        }\n\n        return service;\n      })\n    }));\n  };\n\n  const isFormValid = () => {\n    console.log(form.services);\n    if (!form.location || !form.location.length) return false;\n\n    if (!form.services.reduce((acc, service) => acc || service.checked, false)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Col, {\n    className: \"d-none d-md-flex\",\n    md: 1,\n    lg: 2,\n    xl: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"login-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Card.Title, {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, t(\"auth.signUpDetails.hello\"), \" Hugo,\"), React.createElement(\"span\", {\n    className: \"d-block mt-5 lead text-center text-muted pl-5 pr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Let us know a bit about you\"), React.createElement(\"form\", {\n    className: \"p-2 p-t-3 p-md-3 p-xl-5\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"d-block lead text-muted mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Select your services:\"), form.services.map(service => {\n    return React.createElement(Form.Group, {\n      key: `service-${service.key}`,\n      controlId: `service-${service.key}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, service.name), React.createElement(Form.Check, {\n      name: service.key,\n      onChange: handleToggleChange,\n      type: \"checkbox\",\n      label: service.name,\n      checked: service.checked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }), React.createElement(Form.Group, {\n    className: \"mt-5\",\n    controlId: \"location\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, t(\"auth.signUpDetails.location\")), React.createElement(Form.Control, {\n    name: \"location\",\n    type: \"input\",\n    placeholder: \"Location\",\n    onChange: handleChange,\n    value: form.location,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })), React.createElement(Button, {\n    block: true,\n    type: \"submit\",\n    disabled: !isFormValid(),\n    className: \"mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Next\"), React.createElement(Button, {\n    onClick: handleBackClick,\n    block: true,\n    variant: \"link\",\n    className: \"text-muted mt-0 back-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Back\")))))), React.createElement(Col, {\n    className: \"d-none d-md-flex\",\n    md: 1,\n    lg: 2,\n    xl: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  })));\n}\n\nexport default SignUpAuthorDetails;","map":{"version":3,"sources":["/Users/aaronbeach/Desktop/workspace/riseworks/spa/src/Auth/SignUpDetails/SignUpAuthorDetails.jsx"],"names":["Button","Card","Col","Container","Form","Row","React","useState","services","useTranslation","SignUpAuthorDetails","defaultValues","location","onBackClick","onSubmit","DEFAULT_FORM","map","service","checked","includes","key","form","setForm","t","getSubmitPayload","filter","x","handleSubmit","e","preventDefault","handleBackClick","handleChange","target","name","value","handleToggleChange","i","isFormValid","console","log","length","reduce","acc"],"mappings":"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","sourcesContent":["import { Button, Card, Col, Container, Form, Row } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\n\nimport services from \"constants/services\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction SignUpAuthorDetails({\n  defaultValues = { services: [], location: \"\" },\n  onBackClick,\n  onSubmit\n}) {\n  const DEFAULT_FORM = {\n    services: services.map(service => ({\n      ...service,\n      checked: defaultValues.services.includes(service.key)\n    })),\n    location: defaultValues.location\n  };\n\n  const [form, setForm] = useState(DEFAULT_FORM);\n  const { t } = useTranslation();\n\n  const getSubmitPayload = () => {\n    return {\n      location: form.location,\n      services: form.services\n        .map(service => {\n          if (service.checked) {\n            return service.key;\n          }\n          return null;\n        })\n        .filter(x => x)\n    };\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(getSubmitPayload());\n  };\n\n  const handleBackClick = () => {\n    onBackClick(getSubmitPayload());\n  };\n\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value || \"\"\n    });\n  };\n\n  const handleToggleChange = e => {\n    const { name, checked } = e.target;\n    setForm({\n      ...form,\n      services: form.services.map((service, i) => {\n        if (service.key === name) {\n          return { ...service, checked };\n        }\n        return service;\n      })\n    });\n  };\n\n  const isFormValid = () => {\n    console.log(form.services)\n    if (!form.location || !form.location.length) return false;\n    if (!form.services.reduce((acc, service) => acc || service.checked, false)) {\n      return false;\n    }\n    return true;\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col className=\"d-none d-md-flex\" md={1} lg={2} xl={3} />\n        <Col>\n          <Card className=\"login-card\">\n            <Card.Body>\n              <Card.Title className=\"text-center\">{t(\"auth.signUpDetails.hello\")} Hugo,</Card.Title>\n              <span className=\"d-block mt-5 lead text-center text-muted pl-5 pr-5\">\n                Let us know a bit about you\n              </span>\n              <form className=\"p-2 p-t-3 p-md-3 p-xl-5\" onSubmit={handleSubmit}>\n                <span className=\"d-block lead text-muted mb-3\">\n                  Select your services:\n                </span>\n                {form.services.map(service => {\n                  return (\n                    <Form.Group\n                      key={`service-${service.key}`}\n                      controlId={`service-${service.key}`}\n                    >\n                      <Form.Label className=\"sr-only\">\n                        {service.name}\n                      </Form.Label>\n                      <Form.Check\n                        name={service.key}\n                        onChange={handleToggleChange}\n                        type=\"checkbox\"\n                        label={service.name}\n                        checked={service.checked}\n                      />\n                    </Form.Group>\n                  );\n                })}\n                <Form.Group className=\"mt-5\" controlId=\"location\">\n                  <Form.Label className=\"sr-only\">{t(\"auth.signUpDetails.location\")}</Form.Label>\n                  <Form.Control\n                    name=\"location\"\n                    type=\"input\"\n                    placeholder=\"Location\"\n                    onChange={handleChange}\n                    value={form.location}\n                  />\n                </Form.Group>\n                <Button\n                  block\n                  type=\"submit\"\n                  disabled={!isFormValid()}\n                  className=\"mt-5\"\n                >\n                  Next\n                </Button>\n                <Button\n                  onClick={handleBackClick}\n                  block\n                  variant=\"link\"\n                  className=\"text-muted mt-0 back-button\"\n                >\n                  <small>Back</small>\n                </Button>\n              </form>\n            </Card.Body>\n          </Card>\n        </Col>\n        <Col className=\"d-none d-md-flex\" md={1} lg={2} xl={3} />\n      </Row>\n    </Container>\n  );\n}\n\nexport default SignUpAuthorDetails;\n"]},"metadata":{},"sourceType":"module"}